<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>5ページ演出（完成版）</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Yomogi&display=swap" rel="stylesheet">

<style>
  html, body { 
    margin:0; padding:0; height:100%; overflow:hidden; 
    font-family:'Yomogi', cursive;
  }

  /* 黒画面 */
  #blackScreen {
    position:fixed; top:0; left:0; width:100%; height:100%;
    background:black; display:flex; justify-content:center; align-items:center;
    z-index:10; cursor:pointer; opacity:1; transition:opacity 3s ease; flex-direction:column;
  }

  #tapText {
    color:white; font-size:24px; text-align:center;
    animation:pulse 1.2s infinite;
    line-height:1.4em;
  }

  @keyframes pulse {
    0% {opacity:0.3;}
    50% {opacity:1;}
    100% {opacity:0.3;}
  }

  /* 白画面 */
  #whiteScreen {
    position:fixed; top:0; left:0; width:100%; height:100%;
    background:white; display:flex; justify-content:center; align-items:center;
    flex-direction:column; opacity:0; transition:opacity 1s ease; z-index:9; cursor:pointer;
  }

  .leftImage {
    position:absolute; left:60px; bottom:20px; width:230px; height:auto; object-fit:contain;
  }
  .centerLogo { max-width:600px; width:50%; height:auto; }

  /* ページ共通 */
  .pageContent {
    position:relative; width:100%; height:100%; opacity:0;
    z-index:1; transition:opacity 1s ease;
    display:none; padding:5vw; box-sizing:border-box;
    text-align:center; font-size:1.2em; line-height:1.8em;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
  }

  .highlight { font-size:1.5em; font-weight:bold; margin:0.5em 0; }
  .important { color:#e91e63; font-weight:bold; font-size:1.3em; }

  a.nextPage { margin-top:20px; text-decoration:none; color:#007bff; font-size:1.2em; }

  /* 最後のページ */
  #page5 {
    background: url('na.jpg') no-repeat center center;
    background-size: cover;
    justify-content:flex-start;
    align-items:center;
    flex-direction:column;
  }

  #page5 .theEnd {
    margin-top: 400px;
    font-family: 'Yomogi', cursive;
    font-weight: bold;
    font-size: 2em;
    color: #000;
  }

  /* ✨魔法のキラキラ */
  .sparkle {
    position: fixed;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle, #fff 0%, rgba(255,255,255,0) 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: 11;
    animation: sparkleFly 1.5s ease-out forwards;
  }

  @keyframes sparkleFly {
    0% { transform: scale(0.5) translateY(0); opacity: 1; }
    50% { opacity: 1; }
    100% { transform: scale(1.3) translateY(-200px); opacity: 0; }
  }

  /* スマホ用 */
  @media (max-width:768px) {
    #tapText { font-size:6vw; }
    .pageContent { font-size:4.5vw; padding:5vw; }
    .highlight { font-size:6vw; }
    .important { font-size:5vw; }

    .leftImage { width:40vw; left:3vw; bottom:3vh; }
    .centerLogo { width:80%; max-width:none; }

    #page5 { padding-top: 20%; }
  }
</style>
</head>
<body>

<!-- 黒画面 -->
<div id="blackScreen">
  <div id="tapText">タップしてね</div>
</div>

<!-- 白画面 -->
<div id="whiteScreen">
  <img src="nikku&judeli.png" alt="nikku" class="leftImage">
  <img src="logo.png" alt="logo" class="centerLogo">
</div>

<!-- ページ1〜5 -->
<div id="page1" class="pageContent">
  <p class="highlight">はちゃへ</p>
  <p>誕生日おめでとう！今年は街に待った20歳！！</p>
  <p>はるもとうとうお酒、タバコ、ギャンブルができる立派な大人になりました。<br>
  後者二つはハマっちゃダメだぞ♡</p>
  <a href="#" class="nextPage">次のページへ進む</a>
</div>

<div id="page2" class="pageContent">
  <p>さて、はるは20歳としてどんな抱負を立てますか？</p>
  <p>最近は喧嘩も多いけど、それだけ本音でぶつかり合えてるってことだと思う。</p>
  <p>嫌な思いをさせてしまうこともあるけど、喧嘩のたびに少しずついい関係になってると思う、、てかそう思いたい。</p>
  <a href="#" class="nextPage">次のページへ進む</a>
</div>

<div id="page3" class="pageContent">
  <p>それでもやっぱり、｢はるにとっていい彼氏になれているのか｣って不安になる時もあります。でも、はるが前に言ってた｢自信の無い男は嫌い｣という言葉を思い出すと、不思議と頑張れるよ。</p>
  <p>いい彼氏かどうか考えてる暇があったら、はるが誇れる彼氏に成長してやろうと、自信満々でいてやろうと、そう思えます。</p>
  <p>顔も声も仕草も可愛くて、みんなに優しくて、わがままで、強がりで、そんなはるの彼氏は、俺にしか務まりません。だから、この先の誕生日もずっと俺がお祝いします。</p>
  <a href="#" class="nextPage">次のページへ進む</a>
</div>

<div id="page4" class="pageContent">
  <p>20歳のディズニーデート！最高の思い出にしようね！！</p>
  <p>手紙なんて無限にかけちゃうし、謝りたいことだっていっぱいあるけど、そろそろ読み疲れちゃうと思うからとりあえず、いつも本当にありがとう。<span class="important">大好きです。</span></p>
  <p class="highlight">捻くれ者より</p>
  <a href="#" class="nextPage">次のページへ進む</a>
</div>

<div id="page5" class="pageContent">
  <p class="theEnd">おわり</p>
</div>

<script>
const blackScreen = document.getElementById('blackScreen');
const whiteScreen = document.getElementById('whiteScreen');
const tapText = document.getElementById('tapText');
const pages = [
  document.getElementById('page1'),
  document.getElementById('page2'),
  document.getElementById('page3'),
  document.getElementById('page4'),
  document.getElementById('page5')
];

let currentPage = 0;
let magicPlayed = false;

// 黒画面タップ → 魔法＋白画面に移動
blackScreen.addEventListener('click', () => {
  if (magicPlayed) return;
  magicPlayed = true;

  // 🌟キラキラ魔法エフェクト
  for (let i = 0; i < 100; i++) {
    const sparkle = document.createElement('div');
    sparkle.classList.add('sparkle');
    document.body.appendChild(sparkle);

    const x = Math.random() * window.innerWidth;
    const y = Math.random() * window.innerHeight;
    sparkle.style.left = `${x}px`;
    sparkle.style.top = `${y}px`;

    sparkle.style.animationDuration = `${3 + Math.random()}s`;
    sparkle.style.animationDelay = `${Math.random() * 0.5}s`;

    sparkle.addEventListener('animationend', () => sparkle.remove());
  }

  // 黒→白フェード
  tapText.style.opacity = 0;
  blackScreen.style.opacity = 0;

  // 💡これ追加：黒画面をすぐクリック不可にして白画面をタップ可能に
  blackScreen.style.pointerEvents = 'none';

  setTimeout(() => {
    whiteScreen.style.opacity = 1;
  }, 800); // 少し早めに白画面出現

  setTimeout(() => {
    blackScreen.style.display = 'none';
  }, 5500);
});

// 白画面クリック → ページ1表示
whiteScreen.addEventListener('click', () => {
  whiteScreen.style.opacity = 0;
  whiteScreen.style.display = 'none';
  showPage(currentPage);
  document.body.style.overflow='auto';
});

// ページ表示
function showPage(index) {
  pages[index].style.display = 'flex';
  setTimeout(() => { pages[index].style.opacity = 1; }, 50);
}

// 次ページ
document.querySelectorAll('.nextPage').forEach((btn, i) => {
  btn.addEventListener('click', (e) => {
    e.preventDefault();
    pages[i].style.opacity = 0;
    setTimeout(() => {
      pages[i].style.display = 'none';
      currentPage = i + 1;
      if (currentPage < pages.length) showPage(currentPage);
    }, 500);
  });
});
</script>

</body>
</html>
